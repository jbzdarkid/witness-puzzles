<html xmlns="http://www.w3.org/2000/xhtml">
  <head>
    <link rel="stylesheet" type="text/css" href="/data/style.css" id="stylesheet">
    <link rel="icon" type="image/png" href="/data/favicon.png">
    <script type="text/javascript" src="/engine/polyominos.js"></script>
    <script type="text/javascript" src="/engine/utilities.js"></script>
    <script type="text/javascript" src="/engine/puzzle.js"></script>
    <script type="text/javascript" src="/engine/solve.js"></script>
    <script type="text/javascript" src="/engine/validate.js"></script>
    <script type="text/javascript" src="/engine/svg.js"></script>
    <script type="text/javascript" src="/engine/display2.js"></script>
    <script type="text/javascript" src="/engine/trace2.js"></script>
    <script type="text/javascript" src="editor.js"></script>
    <title>Create a puzzle</title>
  </head>
  <body>
    <script>loadSettings()</script>
    <div id="solutionViewer" style="position:absolute; right:8; display:none">
      <button id="previousSolution">&larr;</button>
      <label id="solutionCount"></label>
      <button id="nextSolution">&rarr;</button>
    </div>
    <label id="puzzleName" contentEditable=true style="font-size: 72">Unnamed Puzzle</label>
    <br>
    <div id="metaButtons" style="display:inline">
      <button onclick="newPuzzle()">New</button>
      <button onclick="loadPuzzle()">Load</button>
      <button onclick="deletePuzzleAndLoadNext()">Delete</button>
      <button onclick="importPuzzle()">Import</button>
      <!--
      <button onclick="exportPuzzle()">Export</button>
      <textarea style="display:none" id="export"></textarea>
      <button onclick="playPuzzle()">Play</button>
      -->
      <button onclick="solvePuzzle()">Solve</button>
      <form style="display:inline" method="post" action="publish">
        <input type="text" style="display:none" name="publishData" id="publishData">
        <input type="submit" value="Publish">
      </form>
      <br>
      <input class="checkbox" type="checkbox" id="hSymBox" onchange="setSymmetry(this.checked, null)">
      <label cellpadding="10" for="hSymBox" style="margin-right: 20">Horizontal Symmetry</label>
      <input class="checkbox" type="checkbox" id="vSymBox" onchange="setSymmetry(null, this.checked)">
      <label for="vSymBox" style="margin-right: 20">Vertical Symmetry</label>
      <input class="checkbox" type="checkbox" id="pillarBox" onchange="setPillar(this.checked)">
      <label for="pillarBox">Pillar</label>
    </div>

    <table id="meta">
      <tr>
        <td>
          <table id="symbolButtons" style="display:none" cellpadding="4" cellspacing="0">
            <tr>
              <td><button id="start"></button></td>
              <td><button id="end"></button></td>
            </tr><tr>
              <td><button id="gap"></button></td>
              <td><button id="dot"></button></td>
            </tr><tr>
              <td><button id="square"></button></td>
              <td><button id="star"></button></td>
            </tr><tr>
              <td><button id="nega"></button></td>
              <td><button id="triangle"></button></td>
            </tr><tr>
              <td><button id="poly"></button></td>
              <td><button id="rpoly"></button></td>
            </tr><tr>
              <td><button id="ylop"></button></td>
              <td><button id="rylop"></button></td>
            </tr>
          </table>
        </td><td>
          <div style="position: relative">
            <div id="resize-topleft" class="resize" style="cursor: nwse-resize; left: 0; top: 0; height: 10px; width: 10px"></div>
            <div id="resize-top" class="resize" style="cursor: ns-resize; left: 10; top: 0; right: 10; height: 10px"></div>
            <div id="resize-topright" class="resize" style="cursor: nesw-resize; top: 0; right: 0; height: 10px; width: 10px"></div>
            <div id="resize-right" class="resize" style="cursor: ew-resize; top: 10; right: 0; bottom: 10; width: 10px"></div>
            <div id="resize-bottomright" class="resize" style="cursor: nwse-resize; right: 0; bottom: 0; height: 10px; width: 10px"></div>
            <div id="resize-bottom" class="resize" style="cursor: ns-resize; right: 10; bottom: 0; left: 10; height: 10px"></div>
            <div id="resize-bottomleft" class="resize" style="cursor: nesw-resize; bottom: 0; left: 0; height: 10px; width: 10px"></div>
            <div id="resize-left" class="resize" style="cursor: ew-resize; bottom: 10; left: 0; top: 10; width: 10px"></div>
            <svg id="puzzle"></svg>
          </div>
        </td><td>
          <table id="colorButtons" style="display:none" cellpadding="4" cellspacing="0">
            <tr><td><button id="black"></button></td></tr>
            <tr><td><button id="white"></button></td></tr>
            <tr><td><button id="red"></button></td></tr>
            <tr><td><button id="orange"></button></td></tr>
            <tr><td><button id="yellow"></button></td></tr>
            <tr><td><button id="green"></button></td></tr>
            <tr><td><button id="blue"></button></td></tr>
            <tr><td><button id="purple"></button></td></tr>
          </table>
        </td>
      </tr>
    </table>
  </body>
</html>
